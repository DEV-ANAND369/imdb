"use strict";(self.webpackChunkWatchHQ=self.webpackChunkWatchHQ||[]).push([[707],{4499:(t,n,e)=>{e.d(n,{Fu:()=>l,yJ:()=>p,zR:()=>k});var o=e(8168),a=e(4307),i=e(8783),r=e(7573),s=e(1561);function c(t){return"/"===t.charAt(0)?t:"/"+t}function h(t,n){return 0===t.toLowerCase().indexOf(n.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(n.length))}function u(t,n){return h(t,n)?t.substr(n.length):t}function d(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function f(t){var n=t.pathname,e=t.search,o=t.hash,a=n||"/";return e&&"?"!==e&&(a+="?"===e.charAt(0)?e:"?"+e),o&&"#"!==o&&(a+="#"===o.charAt(0)?o:"#"+o),a}function p(t,n,e,i){var r;"string"==typeof t?(r=function(t){var n=t||"/",e="",o="",a=n.indexOf("#");-1!==a&&(o=n.substr(a),n=n.substr(0,a));var i=n.indexOf("?");return-1!==i&&(e=n.substr(i),n=n.substr(0,i)),{pathname:n,search:"?"===e?"":e,hash:"#"===o?"":o}}(t),r.state=n):(void 0===(r=(0,o.A)({},t)).pathname&&(r.pathname=""),r.search?"?"!==r.search.charAt(0)&&(r.search="?"+r.search):r.search="",r.hash?"#"!==r.hash.charAt(0)&&(r.hash="#"+r.hash):r.hash="",void 0!==n&&void 0===r.state&&(r.state=n));try{r.pathname=decodeURI(r.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return e&&(r.key=e),i?r.pathname?"/"!==r.pathname.charAt(0)&&(r.pathname=(0,a.A)(r.pathname,i.pathname)):r.pathname=i.pathname:r.pathname||(r.pathname="/"),r}function l(t,n){return t.pathname===n.pathname&&t.search===n.search&&t.hash===n.hash&&t.key===n.key&&(0,i.A)(t.state,n.state)}function v(){var t=null;var n=[];return{setPrompt:function(n){return(0,r.A)(null==t,"A history supports only one prompt at a time"),t=n,function(){t===n&&(t=null)}},confirmTransitionTo:function(n,e,o,a){if(null!=t){var i="function"==typeof t?t(n,e):t;"string"==typeof i?"function"==typeof o?o(i,a):((0,r.A)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),a(!0)):a(!1!==i)}else a(!0)},appendListener:function(t){var e=!0;function o(){e&&t.apply(void 0,arguments)}return n.push(o),function(){e=!1,n=n.filter((function(t){return t!==o}))}},notifyListeners:function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];n.forEach((function(t){return t.apply(void 0,e)}))}}}var w=!("undefined"==typeof window||!window.document||!window.document.createElement);function m(t,n){n(window.confirm(t))}var y="popstate",g="hashchange";function A(){try{return window.history.state||{}}catch(t){return{}}}function k(t){void 0===t&&(t={}),w||(0,s.A)(!1,"Browser history needs a DOM");var n,e=window.history,a=(-1===(n=window.navigator.userAgent).indexOf("Android 2.")&&-1===n.indexOf("Android 4.0")||-1===n.indexOf("Mobile Safari")||-1!==n.indexOf("Chrome")||-1!==n.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,i=!(-1===window.navigator.userAgent.indexOf("Trident")),l=t,k=l.forceRefresh,b=void 0!==k&&k,O=l.getUserConfirmation,x=void 0===O?m:O,L=l.keyLength,P=void 0===L?6:L,T=t.basename?d(c(t.basename)):"";function E(t){var n=t||{},e=n.key,o=n.state,a=window.location,i=a.pathname+a.search+a.hash;return(0,r.A)(!T||h(i,T),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+i+'" to begin with "'+T+'".'),T&&(i=u(i,T)),p(i,o,e)}function C(){return Math.random().toString(36).substr(2,P)}var R=v();function S(t){(0,o.A)(D,t),D.length=e.length,R.notifyListeners(D.location,D.action)}function U(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||j(E(t.state))}function H(){j(E(A()))}var M=!1;function j(t){if(M)M=!1,S();else{R.confirmTransitionTo(t,"POP",x,(function(n){n?S({action:"POP",location:t}):function(t){var n=D.location,e=I.indexOf(n.key);-1===e&&(e=0);var o=I.indexOf(t.key);-1===o&&(o=0);var a=e-o;a&&(M=!0,Y(a))}(t)}))}}var B=E(A()),I=[B.key];function W(t){return T+f(t)}function Y(t){e.go(t)}var F=0;function Q(t){1===(F+=t)&&1===t?(window.addEventListener(y,U),i&&window.addEventListener(g,H)):0===F&&(window.removeEventListener(y,U),i&&window.removeEventListener(g,H))}var z=!1;var D={length:e.length,action:"POP",location:B,createHref:W,push:function(t,n){(0,r.A)(!("object"==typeof t&&void 0!==t.state&&void 0!==n),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var o="PUSH",i=p(t,n,C(),D.location);R.confirmTransitionTo(i,o,x,(function(t){if(t){var n=W(i),s=i.key,c=i.state;if(a)if(e.pushState({key:s,state:c},null,n),b)window.location.href=n;else{var h=I.indexOf(D.location.key),u=I.slice(0,h+1);u.push(i.key),I=u,S({action:o,location:i})}else(0,r.A)(void 0===c,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=n}}))},replace:function(t,n){(0,r.A)(!("object"==typeof t&&void 0!==t.state&&void 0!==n),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o="REPLACE",i=p(t,n,C(),D.location);R.confirmTransitionTo(i,o,x,(function(t){if(t){var n=W(i),s=i.key,c=i.state;if(a)if(e.replaceState({key:s,state:c},null,n),b)window.location.replace(n);else{var h=I.indexOf(D.location.key);-1!==h&&(I[h]=i.key),S({action:o,location:i})}else(0,r.A)(void 0===c,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(n)}}))},go:Y,goBack:function(){Y(-1)},goForward:function(){Y(1)},block:function(t){void 0===t&&(t=!1);var n=R.setPrompt(t);return z||(Q(1),z=!0),function(){return z&&(z=!1,Q(-1)),n()}},listen:function(t){var n=R.appendListener(t);return Q(1),function(){Q(-1),n()}}};return D}}}]);
//# sourceMappingURL=commons-main-history.js.bundle.js.map